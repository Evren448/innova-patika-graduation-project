<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      th:replace="base::layout(~{::section})">
<head>
    <meta charset="ISO-8859-1">
    <title>Insert title here</title>
</head>
<body>
<section>
    <div class="container">
        <h3 class="text-center">Customers</h3>
        <!--    <div th:if="${session.msg}"-->
        <!--         class="text-center"-->
        <!--         role="alert">-->

        <!--      <h4 th:text="${session.msg}"></h4>-->
        <!--      <th:block th:text="${#session.removeAttribute('msg')}"></th:block>-->
    </div>

    <div class="text-center">
        <!--            <img alt="" th:src="@{/img/taking-notes-2.jpg}"-->
        <!--                 style="width: 50px; height: 50px;">-->

        <table border="1" class="table table-striped table-responsive-md">
            <thead>
            <tr>
                <th>Full name</th>
                <th>Identity Number</th>
                <th>Phone Number</th>
                <th>Income</th>
                <th>Actions</th>
            </tr>
            </thead>

            <tbody>
            <tr th:each="customer : ${customers}">
                <td th:text="${customer.fullName}"></td>
                <td th:text="${customer.identityNumber}"></td>
                <td th:text="${customer.phoneNumber}"></td>
                <td th:text="${customer.income}"></td>
                <td class="text-center">
                    <a th:href="@{'/customer/updateCustomer/' + ${customer.id} }"
                       class="btn btn-primary btn-sm">Edit</a>

                    <a th:href="@{'/customer/deleteCustomer/' + ${customer.identityNumber} }" class="btn btn-danger btn-sm ml-2">Delete</a>
                </td>
            </tr>
            </tbody>
        </table>


        <div class="row p-4">
            <div class="col-md-4">Total Elements : [[${totalElement}]]</div>
            <div class="col-md-6">
                <nav aria-label="Page navigation example">
                    <ul class="pagination">

                        <li th:classappend="${pageNo==0} ? 'disabled':'' " class="page-item">
                            <a class="page-link" th:href="@{'/user/viewNotes/'+${pageNo - 1} }" aria-label="Previous">
                                <span aria-hidden="true">&laquo;</span>
                            </a>
                        </li>

                        <li th:each="i : ${#numbers.sequence(1,totalPage)}"
                            th:classappend="${pageNo+1 == i}?'active': '' " class="page-item">
                            <a th:href="@{'/user/viewNotes/'+ ${i - 1} }" class="page-link" href="#">[[${i}]]</a>
                        </li>
                        <li th:classappend="${pageNo+1 == totalPage} ? 'disabled':'' " class="page-item">
                            <a class="page-link" th:href="@{'/user/viewNotes/'+${pageNo + 1} }" aria-label="Next">
                                <span aria-hidden="true">&raquo;</span>
                            </a>
                        </li>

                    </ul>
                </nav>
            </div>
        </div>


    </div>

</section>
</body>
</html>